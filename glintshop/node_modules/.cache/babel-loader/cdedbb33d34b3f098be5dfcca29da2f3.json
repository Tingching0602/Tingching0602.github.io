{"ast":null,"code":"export default {\n  props: {\n    initialPlant: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      plant: this.initialPlant\n    };\n  },\n\n  methods: {\n    showNext() {\n      this.$refs.carousel.next();\n    },\n\n    addToCart(id, qty = 1) {\n      const vm = this;\n      const api = `${process.env.APIPATH}/api/${process.env.CUSTOMPATH}/cart`;\n      vm.status.loadingItem = id;\n      const cart = {\n        product_id: id,\n        qty\n      };\n      this.$http.post(api, {\n        data: cart\n      }).then(response => {\n        console.log(response);\n        vm.status.loadingItem = '';\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAiCA;EACAA;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CADA;;EAOAC;IACA;MACAC;IADA;EAGA,CAXA;;EAYAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;MACA;MACAC;MACA;QACAC,cADA;QAEAC;MAFA;MAIA;QAAAP;MAAA;QACAQ;QACAH;MACA,CAHA;IAIA;;EAhBA;AAZA","names":["props","initialPlant","type","required","data","plant","methods","showNext","addToCart","vm","product_id","qty","console"],"sourceRoot":"src/components","sources":["ProductCard.vue"],"sourcesContent":["<template>\n  <div class=\"slide col-md-6 col-lg-4\">\n    <div class=\"card mb-4\">\n      <img\n        class=\"card-img-top\"\n        :src=\"plant.imag\"\n        alt=\"Card image cap\"\n        width=\"286px\"\n        height=\"180px\"\n      />\n      <div class=\"card-body\">\n        <p class=\"card-text title-wrap\">\n          <a href=\"#\">\n            {{ plant.name }}\n          </a>\n        </p>\n        <span class=\"badge badge-secondary\"\n          >目前數量尚有：{{ plant.counts }}</span\n        >\n        <p class=\"card-text text-truncate\">\n          {{ plant.description }}\n        </p>\n      </div>\n      <div class=\"card-footer\">\n        <button type=\"button\" class=\"btn btn-outline-danger btn-sm ml-auto\" @click=\"addToCart(plant.id)\">\n\t\t<i class=\"fas fa-spinner fa-spin\" v-if=\"status.loadingItem===item.id\"></i>>\n          加到購物車\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    initialPlant: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      plant: this.initialPlant,\n    };\n  },\n   methods: {\n      showNext() {\n        this.$refs.carousel.next()\n      },\n      addToCart(id, qty = 1){\n\t\tconst vm = this;\n\t\tconst api = `${process.env.APIPATH}/api/${process.env.CUSTOMPATH}/cart`;\n\t\tvm.status.loadingItem = id;\n\t\tconst cart = {\n\t\t\tproduct_id : id,\n\t\t\tqty\n\t\t}\n\t\tthis.$http.post(api, {data: cart}).then((response) => {  \n\t\t\tconsole.log(response);\n\t\t\tvm.status.loadingItem = '';\n\t\t})\n\t}\n    }\n};\n</script>\n<style lang=\"scss\" scoped>\n.card {\n  display: grid;\n  align-items: center;\n  background-color: #BAB6;\n}\n</style>"]},"metadata":{},"sourceType":"module"}