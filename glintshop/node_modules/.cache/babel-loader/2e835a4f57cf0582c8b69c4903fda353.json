{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport authorizationAPI from \"./../apis/authorization\";\nimport { Toast } from \"./../utils/helpers\";\nexport default {\n  name: \"SignUp\",\n\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordCheck: \"\",\n      isProcessing: false\n    };\n  },\n\n  methods: {\n    async handleSubmit() {\n      try {\n        if (!this.name || !this.email || !this.password || !this.passwordCheck) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請確認已填寫所有欄位\"\n          });\n          return;\n        }\n\n        if (this.password !== this.passwordCheck) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"兩次輸入的密碼不同\"\n          });\n          this.passwordCheck = \"\";\n          return;\n        }\n\n        this.isProcessing = true;\n        const {\n          data\n        } = await authorizationAPI.signUp({\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          passwordCheck: this.passwordCheck\n        });\n\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n\n        Toast.fire({\n          icon: \"success\",\n          title: data.message\n        }); // 成功登入後轉址到登入頁\n\n        this.$router.push(\"/signin\");\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法註冊會員，請稍後再試\"\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA4FA;AACA;AACA;EACAA,cADA;;EAEAC;IACA;MACAD,QADA;MAEAE,SAFA;MAGAC,YAHA;MAIAC,iBAJA;MAKAC;IALA;EAOA,CAVA;;EAWAC;IACA;MACA;QACA,IACA,cACA,WADA,IAEA,cAFA,IAGA,mBAJA,EAKA;UACAC;YACAC,eADA;YAEAC;UAFA;UAIA;QACA;;QACA;UACAF;YACAC,eADA;YAEAC;UAFA;UAIA;UACA;QACA;;QACA;QACA;UAAAR;QAAA;UACAD,eADA;UAEAE,iBAFA;UAGAC,uBAHA;UAIAC;QAJA;;QAMA;UACA;QACA;;QACAG;UACAC,eADA;UAEAC;QAFA,GA/BA,CAmCA;;QACA;MACA,CArCA,CAqCA;QACA;QACAF;UACAC,aADA;UAEAC;QAFA;MAIA;IACA;;EA9CA;AAXA","names":["name","data","email","password","passwordCheck","isProcessing","methods","Toast","icon","title"],"sourceRoot":"src/views","sources":["SignUp.vue"],"sourcesContent":["<template>\n  <form @submit.prevent.stop=\"handleSubmit()\" novalidate>\n    <div class=\"row\">\n      <label for=\"account\">帳號</label>\n      <input\n        id=\"account\"\n        name=\"account\"\n        type=\"text\"\n        v-model=\"form.account\"\n        required\n        maxlength=\"50\"\n      />\n    </div>\n\n    <div class=\"row\">\n      <label for=\"name\">名稱</label>\n      <input\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        v-model=\"form.name\"\n        required\n        :class=\"{ invalid: error.length }\"\n      />\n      <div class=\"note\" v-if=\"error.name\">名稱不得空白</div>\n\n      <div class=\"note\" v-if=\"error.length\">名稱長度不得大於 50 字元</div>\n    </div>\n\n    <div class=\"row\">\n      <label for=\"email\">Email</label>\n      <input\n        id=\"email\"\n        name=\"email\"\n        type=\"email\"\n        v-model=\"form.email\"\n        maxlength=\"50\"\n        required\n      />\n    </div>\n\n    <div class=\"row\">\n      <label for=\"password\">密碼</label>\n      <input\n        id=\"password\"\n        name=\"password\"\n        type=\"password\"\n        v-model=\"form.password\"\n        required\n        maxLength=\"12\"\n      />\n    </div>\n    <div class=\"row\">\n      <label for=\"passwordCheck\">密碼確認</label>\n      <input\n        id=\"passwordCheck\"\n        name=\"passwordCheck\"\n        type=\"password\"\n        v-model=\"form.checkPassword\"\n        required\n      />\n    </div>\n\n    <template v-if=\"isRegister\">\n      <div class=\"row mt-4\">\n        <button class=\"btn submit\" type=\"submit\" :disabled=\"isProcessing\">\n          {{ isProcessing ? \"註冊中..\" : \"註冊\" }}\n        </button>\n      </div>\n      <div class=\"row\">\n        <router-link to=\"/login\">\n          <button class=\"btn cancel\">取消</button>\n        </router-link>\n      </div>\n    </template>\n    <template v-else>\n      <div class=\"row\">\n        <button\n          v-if=\"!isSaved\"\n          class=\"btn update\"\n          type=\"submit\"\n          :disabled=\"isProcessing\"\n        >\n          {{ isProcessing ? \"儲存中..\" : \"儲存\" }}\n        </button>\n        <button v-else class=\"btn update\" disabled>已儲存</button>\n      </div>\n    </template>\n  </form>\n</template>\n\n<script>\nimport authorizationAPI from \"./../apis/authorization\";\nimport { Toast } from \"./../utils/helpers\";\nexport default {\n  name: \"SignUp\",\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordCheck: \"\",\n      isProcessing: false,\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        if (\n          !this.name ||\n          !this.email ||\n          !this.password ||\n          !this.passwordCheck\n        ) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"請確認已填寫所有欄位\",\n          });\n          return;\n        }\n        if (this.password !== this.passwordCheck) {\n          Toast.fire({\n            icon: \"warning\",\n            title: \"兩次輸入的密碼不同\",\n          });\n          this.passwordCheck = \"\";\n          return;\n        }\n        this.isProcessing = true;\n        const { data } = await authorizationAPI.signUp({\n          name: this.name,\n          email: this.email,\n          password: this.password,\n          passwordCheck: this.passwordCheck,\n        });\n        if (data.status !== \"success\") {\n          throw new Error(data.message);\n        }\n        Toast.fire({\n          icon: \"success\",\n          title: data.message,\n        });\n        // 成功登入後轉址到登入頁\n        this.$router.push(\"/signin\");\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法註冊會員，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n\n#signup {\n  margin-top: 65px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n\nh1 {\n  margin-top: 25px;\n  font-weight: bold;\n  color: #728C37;\n  font-size: 23px;\n}\n\n\n\n\n\n</style>"]},"metadata":{},"sourceType":"module"}