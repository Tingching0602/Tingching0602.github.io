{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/*eslint-disable*/\n// import usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\nimport { emptyImageFilter } from \"./../utils/mixins\";\nconst dummyData = {\n  products: [{\n    id: 123,\n    name: \"斑葉姑婆芋\",\n    image: image1,\n    price: \"$2,580\",\n    Category: \"觀葉植物\",\n    priceNumber: 2580,\n    amount: 1\n  }, {\n    id: 126,\n    name: \"凹突觀音蓮\",\n    image: image2,\n    price: \"$1,200\",\n    Category: \"觀葉植物\",\n    priceNumber: 1200,\n    amount: 1\n  }, {\n    id: 156,\n    name: \"綠珊瑚\",\n    image: image3,\n    price: \"$360\",\n    Category: \"多肉植物\",\n    priceNumber: 360,\n    amount: 1\n  }, {\n    id: 198,\n    name: \"圓葉山烏龜\",\n    image: image4,\n    price: \"$490\",\n    Category: \"塊根植物\",\n    priceNumber: 490,\n    amount: 1\n  }, {\n    id: 127,\n    name: \"迷彩粗肋草\",\n    image: image5,\n    price: \"$2000\",\n    Category: \"觀葉植物\",\n    priceNumber: 2000,\n    amount: 1\n  }, {\n    id: 190,\n    name: \"傑克林觀音蓮\",\n    image: image6,\n    price: \"$3500\",\n    Category: \"觀葉植物\",\n    priceNumber: 3500,\n    amount: 1\n  }, {\n    id: 230,\n    name: \"青蘋果竹芋\",\n    image: image7,\n    price: \"$2780\",\n    Category: \"觀葉植物\",\n    priceNumber: 2780,\n    amount: 1\n  }, {\n    id: 239,\n    name: \"熊童子\",\n    image: image8,\n    price: \"$300\",\n    Category: \"多肉植物\",\n    priceNumber: 300,\n    amount: 1\n  }, {\n    id: 289,\n    name: \"龜背芋\",\n    image: image9,\n    price: \"$2100\",\n    Category: \"觀葉植物\",\n    priceNumber: 2100,\n    amount: 1\n  }, {\n    id: 300,\n    name: \"錦緞蔓綠絨\",\n    image: image10,\n    price: \"$10000\",\n    Category: \"觀葉植物\",\n    priceNumber: 10000,\n    amount: 1\n  }]\n};\nexport default {\n  name: \"RestaurantCard\",\n  mixins: [emptyImageFilter],\n  props: {\n    initialRestaurant: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      restaurant: this.initialRestaurant,\n      isProcessing: false\n    };\n  },\n\n  methods: {\n    async addFavorite(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const response = await usersAPI.addFavorite({\n          restaurantId\n        });\n        const data = response.data;\n\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n\n        this.restaurant = { ...this.restaurant,\n          isFavorited: true\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法將餐廳加入最愛，請稍後再試\"\n        });\n      }\n    },\n\n    async deleteFavorite(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const {\n          data\n        } = await usersAPI.deleteFavorite({\n          restaurantId\n        });\n\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n\n        this.restaurant = { ...this.restaurant,\n          isFavorited: false\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法將餐廳移除最愛，請稍後再試\"\n        });\n      }\n    },\n\n    async addLike(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const {\n          data\n        } = await usersAPI.addLike({\n          restaurantId\n        });\n\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n\n        this.restaurant = { ...this.restaurant,\n          isLiked: true\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法按讚餐廳，請稍後再試\"\n        });\n      }\n    },\n\n    async deleteLike(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const {\n          data\n        } = await usersAPI.deleteLike({\n          restaurantId\n        });\n\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n\n        this.restaurant = { ...this.restaurant,\n          isLiked: false\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法按讚餐廳，請稍後再試\"\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";;AAgEA;AACA;AACA;AACA;AACA;EACAA,WACA;IACAC,OADA;IAEAC,aAFA;IAGAC,aAHA;IAIAC,eAJA;IAKAC,gBALA;IAMAC,iBANA;IAOAC;EAPA,CADA,EAUA;IACAN,OADA;IAEAC,aAFA;IAGAC,aAHA;IAIAC,eAJA;IAKAC,gBALA;IAMAC,iBANA;IAOAC;EAPA,CAVA,EAmBA;IACAN,OADA;IAEAC,WAFA;IAGAC,aAHA;IAIAC,aAJA;IAKAC,gBALA;IAMAC,gBANA;IAOAC;EAPA,CAnBA,EA4BA;IACAN,OADA;IAEAC,aAFA;IAGAC,aAHA;IAIAC,aAJA;IAKAC,gBALA;IAMAC,gBANA;IAOAC;EAPA,CA5BA,EAqCA;IACAN,OADA;IAEAC,aAFA;IAGAC,aAHA;IAIAC,cAJA;IAKAC,gBALA;IAMAC,iBANA;IAOAC;EAPA,CArCA,EA8CA;IACAN,OADA;IAEAC,cAFA;IAGAC,aAHA;IAIAC,cAJA;IAKAC,gBALA;IAMAC,iBANA;IAOAC;EAPA,CA9CA,EAuDA;IACAN,OADA;IAEAC,aAFA;IAGAC,aAHA;IAIAC,cAJA;IAKAC,gBALA;IAMAC,iBANA;IAOAC;EAPA,CAvDA,EAgEA;IACAN,OADA;IAEAC,WAFA;IAGAC,aAHA;IAIAC,aAJA;IAKAC,gBALA;IAMAC,gBANA;IAOAC;EAPA,CAhEA,EAyEA;IACAN,OADA;IAEAC,WAFA;IAGAC,aAHA;IAIAC,cAJA;IAKAC,gBALA;IAMAC,iBANA;IAOAC;EAPA,CAzEA,EAkFA;IACAN,OADA;IAEAC,aAFA;IAGAC,cAHA;IAIAC,eAJA;IAKAC,gBALA;IAMAC,kBANA;IAOAC;EAPA,CAlFA;AADA;AA8FA;EACAL,sBADA;EAEAM,0BAFA;EAGAC;IACAC;MACAC,YADA;MAEAC;IAFA;EADA,CAHA;;EASAC;IACA;MACAC,kCADA;MAEAC;IAFA;EAIA,CAdA;;EAeAC;IACA;MACA;QACA;QACA;UAAAC;QAAA;QACA;;QACA;UACA;QACA;;QACA,oBACA,kBADA;UAEAC;QAFA;QAIA;MACA,CAZA,CAYA;QACA;QACAC;UACAC,aADA;UAEAC;QAFA;MAIA;IACA,CArBA;;IAsBA;MACA;QACA;QACA;UAAAR;QAAA;UAAAI;QAAA;;QACA;UACA;QACA;;QACA,oBACA,kBADA;UAEAC;QAFA;QAIA;MACA,CAXA,CAWA;QACA;QACAC;UACAC,aADA;UAEAC;QAFA;MAIA;IACA,CAzCA;;IA0CA;MACA;QACA;QACA;UAAAR;QAAA;UAAAI;QAAA;;QACA;UACA;QACA;;QACA,oBACA,kBADA;UAEAK;QAFA;QAIA;MACA,CAXA,CAWA;QACA;QACAH;UACAC,aADA;UAEAC;QAFA;MAIA;IACA,CA7DA;;IA8DA;MACA;QACA;QACA;UAAAR;QAAA;UAAAI;QAAA;;QACA;UACA;QACA;;QACA,oBACA,kBADA;UAEAK;QAFA;QAIA;MACA,CAXA,CAWA;QACA;QACAH;UACAC,aADA;UAEAC;QAFA;MAIA;IACA;;EAjFA;AAfA","names":["products","id","name","image","price","Category","priceNumber","amount","mixins","props","initialRestaurant","type","required","data","restaurant","isProcessing","methods","restaurantId","isFavorited","Toast","icon","title","isLiked"],"sourceRoot":"src/components","sources":["ProductCard.vue"],"sourcesContent":["<template>\n  <div class=\"col-md-6 col-lg-4\">\n    <div class=\"card mb-4\">\n      <img src=\"../assets/image/plant3.png\" alt=\"card imag cap\"\n      width=\"286px\"\n      height=\"180px\"\n      />\n    </div>\n    <div class=\"card-body\">\n        <p class=\"card-text title-wrap\">\n           <router-link\n            :to=\"{ name: 'product', params: { id: products.id } }\"\n          >\n            {{ products.name }}\n          </router-link>\n        </p>\n        <span class=\"badge badge-secondary\">{{\n          products.Category\n        }}</span>\n        <p class=\"card-text text-truncate\">\n          一種肉很多的植物\n        </p>\n      </div>\n      <div class=\"card-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-danger btn-border favorite mr-2\"\n          v-if=\"restaurant.isFavorited\"\n          @click.stop.prevent=\"deleteFavorite(products.id)\"\n          :disabled=\"isProcessing\"\n        >\n          移除最愛\n        </button>\n        <button\n          type=\"button\"\n          class=\"btn btn-primary btn-border favorite mr-2\"\n          v-else\n          @click.stop.prevent=\"addFavorite(products.id)\"\n          :disabled=\"isProcessing\"\n        >\n          加到最愛\n        </button>\n        <button\n          type=\"button\"\n          class=\"btn btn-danger like mr-2\"\n          v-if=\"restaurant.isLiked\"\n          @click.stop.prevent=\"deleteLike(products.id)\"\n          :disabled=\"isProcessing\"\n        >\n          Unlike\n        </button>\n        <button\n          type=\"button\"\n          class=\"btn btn-primary like mr-2\"\n          v-else\n          @click.stop.prevent=\"addLike(products.id)\"\n          :disabled=\"isProcessing\"\n        >\n          Like\n        </button>\n      </div>\n  </div>\n</template>\n<script>\n/*eslint-disable*/\n// import usersAPI from \"./../apis/users\";\nimport { Toast } from \"./../utils/helpers\";\nimport { emptyImageFilter } from \"./../utils/mixins\";\nconst dummyData = {\n  products: [\n    {\n      id: 123,\n      name: \"斑葉姑婆芋\",\n      image: image1,\n      price: \"$2,580\",\n      Category: \"觀葉植物\",\n      priceNumber: 2580,\n      amount: 1,\n    },\n    {\n      id: 126,\n      name: \"凹突觀音蓮\",\n      image: image2,\n      price: \"$1,200\",\n      Category: \"觀葉植物\",\n      priceNumber: 1200,\n      amount: 1,\n    },\n      {\n      id: 156,\n      name: \"綠珊瑚\",\n      image: image3,\n      price: \"$360\",\n      Category: \"多肉植物\",\n      priceNumber: 360,\n      amount: 1,\n    },\n      {\n      id: 198,\n      name: \"圓葉山烏龜\",\n      image: image4,\n      price: \"$490\",\n      Category: \"塊根植物\",\n      priceNumber: 490,\n      amount: 1,\n    },\n      {\n      id: 127,\n      name: \"迷彩粗肋草\",\n      image: image5,\n      price: \"$2000\",\n      Category: \"觀葉植物\",\n      priceNumber: 2000,\n      amount: 1,\n    },\n      {\n      id: 190,\n      name: \"傑克林觀音蓮\",\n      image: image6,\n      price: \"$3500\",\n      Category: \"觀葉植物\",\n      priceNumber: 3500,\n      amount: 1,\n    },\n     {\n      id: 230,\n      name: \"青蘋果竹芋\",\n      image: image7,\n      price: \"$2780\",\n      Category: \"觀葉植物\",\n      priceNumber: 2780,\n      amount: 1,\n    },\n    {\n      id: 239,\n      name: \"熊童子\",\n      image: image8,\n      price: \"$300\",\n      Category: \"多肉植物\",\n      priceNumber: 300,\n      amount: 1,\n    },\n    {\n      id: 289,\n      name: \"龜背芋\",\n      image: image9,\n      price: \"$2100\",\n      Category: \"觀葉植物\",\n      priceNumber: 2100,\n      amount: 1,\n    },\n     {\n      id: 300,\n      name: \"錦緞蔓綠絨\",\n      image: image10,\n      price: \"$10000\",\n      Category: \"觀葉植物\",\n      priceNumber: 10000,\n      amount: 1,\n    }\n  ],\n};\nexport default {\n  name: \"RestaurantCard\",\n  mixins: [emptyImageFilter],\n  props: {\n    initialRestaurant: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      restaurant: this.initialRestaurant,\n      isProcessing: false,\n    };\n  },\n  methods: {\n    async addFavorite(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const response = await usersAPI.addFavorite({ restaurantId });\n        const data = response.data;\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n        this.restaurant = {\n          ...this.restaurant,\n          isFavorited: true,\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法將餐廳加入最愛，請稍後再試\",\n        });\n      }\n    },\n    async deleteFavorite(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const { data } = await usersAPI.deleteFavorite({ restaurantId });\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n        this.restaurant = {\n          ...this.restaurant,\n          isFavorited: false,\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法將餐廳移除最愛，請稍後再試\",\n        });\n      }\n    },\n    async addLike(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const { data } = await usersAPI.addLike({ restaurantId });\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n        this.restaurant = {\n          ...this.restaurant,\n          isLiked: true,\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法按讚餐廳，請稍後再試\",\n        });\n      }\n    },\n    async deleteLike(restaurantId) {\n      try {\n        this.isProcessing = true;\n        const { data } = await usersAPI.deleteLike({ restaurantId });\n        if (data.status !== \"success\") {\n          throw new Error(\"data.message\");\n        }\n        this.restaurant = {\n          ...this.restaurant,\n          isLiked: false,\n        };\n        this.isProcessing = false;\n      } catch (error) {\n        this.isProcessing = false;\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法按讚餐廳，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.badge.badge-secondary {\n  padding: 0;\n  margin: 8px 0;\n  color: #0c1446;\n  background-color: transparent;\n}\n.btn,\n.btn-border.btn:hover {\n  margin: 7px 14px 7px 0;\n}\n.card {\n  margin-bottom: 2rem !important;\n}\n.card-img-top {\n  background-color: #efefef;\n}\n.card-body {\n  padding: 17.5px;\n}\n.card-footer {\n  padding: 9px 17.5px;\n  border-color: rgb(232, 232, 232);\n  background: white;\n}\n</style>"]},"metadata":{},"sourceType":"module"}